**Added:**

* Added new environment variable ``$PROMPT_TOKENS_FORMATTER``.
    That can be used to set a callable that receives all tokens in the prompt template.
    It gives option to format the prompt with different prefix based on other tokens values.
    Enables users to implement something like [powerline](https://github.com/vaaaaanquish/xontrib-powerline2)
    without resorting to separate $PROMPT_FIELDS. Works with ``ASYNC_PROMPT`` as well.
    Check the `PR <https://github.com/xonsh/xonsh/pull/3922>`_ for a snippet implementing powerline

**Changed:**

* <news item>

**Deprecated:**

* <news item>

**Removed:**

* <news item>

**Fixed:**

* <news item>

**Security:**

* <news item>
